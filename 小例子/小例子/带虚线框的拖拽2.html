<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="" />
<meta name="copyright" content="" />
<meta name="description" content="" />
<title></title>
<style>
	*{
		margin: 0;
		padding: 0;
		list-style: none;
	}
	#div1{
		width: 200px;
		height: 200px;
		background: red;
		position: absolute;
	}
</style>
<script>
	window.onload = function(){
		var oDiv = document.getElementById('div1');
		oDiv.onmousedown = function(ev){
			var oEvent = ev || event;
			var disX = oEvent.clientX - oDiv.offsetLeft;
			var disY = oEvent.clientY - oDiv.offsetTop;

			// 创建虚线框
			var oDiv2 = document.createElement('div');
			oDiv2.style.border = '2px dashed #000';
			oDiv2.style.width = oDiv.offsetWidth - 4 + 'px';
			oDiv2.style.height = oDiv.offsetHeight - 4 + 'px';
			oDiv2.style.left = oDiv.offsetLeft + 'px';
			oDiv2.style.top = oDiv.offsetTop + 'px';
			oDiv2.style.position = 'absolute';
			document.body.appendChild(oDiv2);

			// 按着的时候移动的
			document.onmousemove = function(ev){
				var oEvent = ev || event;
				var l = oEvent.clientX - disX;
				var t = oEvent.clientY - disY;
				oDiv2.style.left = l + 'px';
				oDiv2.style.top = t + 'px';
			}

			// 在按下的基础上松开的
			document.onmouseup = function(){
				document.onmousemove = null;
				// 顺便干的
				document.onmouseup = null;

				oDiv.style.left = oDiv2.offsetLeft + 'px';
				oDiv.style.top = oDiv2.offsetTop + 'px';
				document.body.removeChild(oDiv2);

				oDiv.releaseCapture && oDiv.releaseCapture();
			}
			oDiv.setCapture && oDiv.setCapture();
			return false;
		}
	}
</script>
</head>

<body>
	打开撒拉附近的拉萨解放路的撒加福禄寿收到啦开发打开撒拉附近的拉萨解放路的撒加福禄寿收到啦开发<br>
	<div id="div1">
	</div>
</body>
</html>