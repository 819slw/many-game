<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="" />
<meta name="copyright" content="" />
<meta name="description" content="" />
<title></title>
<style>
	*{
		margin: 0;
		padding: 0;
	}
	.bar{
		width: 550px;
		height: 40px;
		background: #ccc;
		margin:50px auto;
		position: relative;
	}
	.bar span{
		width: 0%;
		height: 40px;
		background: green;
		position: absolute;
		left: 0;
		top: 0;
	}
	#text{
		text-align:center;
		font-size: 30px;
	}
</style>
<script>
	window.onload = function(){
		var oBar = document.getElementById('bar');
		var oSpan = oBar.getElementsByTagName('span')[0];
		var oT = document.getElementById('text');
		var count = 0;

		for(var i = 0; i < 77; i++){
			var oImg = new Image();
			oImg.src = 'http://www.zhinengshe.com/works/3525/img/'+i+'.jpg';
			oImg.onload = function(){
				count++;
				var scale = count/77;
				oSpan.style.width = oBar.offsetWidth*scale + 'px';
				oT.innerHTML = parseInt(100*scale) + '%';
				if(count == 77){
					alert('图片加载成功');
				}
			}
		}
	}
</script>
</head>

<body>
	<div class="bar" id="bar">
		<span></span>
	</div>
	<div id="text">0%</div>
</body>
</html>